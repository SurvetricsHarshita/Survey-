export const othersSpecify = [
"Any other reason please specify",
  "Others (please specify)",
"Others (please specify)",
  "മറ്റുള്ളവ (ദയവായി വ്യക്തമാക്കുക)",

  "অন্যান্য (একটু বলুন)",

  "ఇతరములు (దయచేసి పేర్కొనండి)",

  "ಇತರೆ (ದಯವಿಟ್ಟು ಹೆಸರಿಸಿ)",


  "अन्‍य (कृपया बताएं)",

  "અન્ય (કૃપા કરીને સ્પષ્ટ કરો)",

  "மற்றவை (தயவுசெய்து குறிப்பிடவும்)",

  "ଅନ୍ୟାନ୍ୟ (ଦୟାକରି ଉଲ୍ଲେଖ କରନ୍ତୁ)",

  "If no, what are the primary reasons for not considering electric trucks?",
  "ഇല്ലെങ്കിൽ, ഇലക്ട്രിക് ട്രക്കുകൾ പരിഗണിക്കാത്തതിൻ്റെ പ്രാഥമിക കാരണങ്ങൾ എന്തൊക്കെയാണ്?",
  "లేదు అయితే, ఎలక్ట్రిక్ ట్రక్కులను పరిగణనలోకి తీసుకోకపోవడానికి ప్రధాన కారణాలు ఏమిటి?",
  "यदि नहीं, तो इलेक्ट्रिक ट्रकों पर विचार न करने के मुख्‍य कारण कौन- कौन से हैं?",
  "যদি নয়া হয় , ইলেকট্রিক ট্রাকে পরিবর্তনের কথা নয়া ভাবার কারণগুলি কি?",
  "જો ના, તો ઇલેક્ટ્રિક ટ્રક્સને ધ્યાનમાં ન લેવાના પ્રાથમિક કારણો શું છે?",
  "ಇಲ್ಲ ಎಂದಾದಲ್ಲಿ, ಎಲೆಕ್ಟ್ರಿಕ್ ಟ್ರಕ್ಸ್ ಗಳನ್ನು ಪರಿಗಣಿಸದಿರುವುದಕ್ಕೆ ಪ್ರಾಥಮಿಕ ಕಾರಣಗಳು ಯಾವುವು?",
  "ଯଦି ନା, ତେବେ ଇଲେକ୍ଟ୍ରିକ୍ ଟ୍ରକ୍ କୁ ବିଚାର ନ କରିବାର ମୂଳ କାରଣ କ'ଣ?",
  "இல்லை என்றால், எலெக்ட்டிரிக் லாரிகளை கருத்தில் கொள்ளாததற்கான முதன்மை காரணங்கள் என்ன? இல்லை என்றால், எலெக்ட்டிரிக் டிரக்குகளை கருத்தில் கொள்ளாததற்கான முதன்மை காரணங்கள் என்ன?",

  "മറ്റുള്ളവ (ദയവായി വ്യക്തമാക്കുക)",
  "ఇతరములు (దయచేసి పేర్కొనండి)",
  "Others (please specify)",
  "अन्‍य (कृपया बताएं)",
  "অন্যান্য (একটু বলুন)",
  "અન્ય (કૃપા કરીને સ્પષ્ટ કરો)",
  "ಇತರೆ (ದಯವಿಟ್ಟು ಹೆಸರಿಸಿ)",
  "ଅନ୍ୟାନ୍ୟ (ଦୟାକରି ଉଲ୍ଲେଖ କରନ୍ତୁ)",
  "மற்றவை (தயவுசெய்து குறிப்பிடவும்)",
   //guj
   "અન્ય (કૃપા કરીને સ્પષ્ટ કરો)",
   // tam
   "மற்றவை (தயவுசெய்து குறிப்பிடவும்)",
   // odi
   "ଅନ୍ୟାନ୍ୟ (ଦୟାକରି ଉଲ୍ଲେଖ କରନ୍ତୁ)",
   "If no, what are the primary reasons for not considering electric trucks?",
  "অন্যান্য কিছু একটু বলুন",
  "અન્ય કોઈપણ કૃપા કરીને સ્પષ્ટ કરો",
  "ఏవైనా ఇతరములు దయచేసి పేర్కొనండి",
  "'અન્ય કોઈપણ કૃપા કરીને સ્પષ્ટ કરો",
  "कोई अन्‍य कृपया बताएं",
  "If no, what are the primary reasons for not considering electric trucks?", "Any others please specify"



]

export  const othersPlaceholders = {
  "অন্যান্য (একটু বলুন)": "একটু বলুন",
  "અન્ય (કૃપા કરીને સ્પષ્ટ કરો)": "કૃપા કરીને સ્પષ્ટ કરો",
  "ಇತರೆ (ದಯವಿಟ್ಟು ಹೆಸರಿಸಿ)": "ದಯವಿಟ್ಟು ಹೆಸರಿಸಿ",
  "ଅନ୍ୟାନ୍ୟ (ଦୟାକରି ଉଲ୍ଲେଖ କରନ୍ତୁ)": "ଦୟାକରି ଉଲ୍ଲେଖ କରନ୍ତୁ",
  "மற்றவை (தயவுசெய்து குறிப்பிடவும்)": "தயவுசெய்து குறிப்பிடவும்",
};





export function shuffleArray(array) {
  return array.sort((a, b) => {
    // Compare the label strings and sort randomly
    return a.label.localeCompare(b.label) * (Math.random() - 0.5);
  });
}

 export function shuffleArrayWithFixed(array, fixedCodes = [], randomizeOnce = false) {
  if (randomizeOnce && array._shuffled) {
    return array; // Return the array as-is if it has already been randomized
  }

  const fixedItems = array.filter(item => fixedCodes.includes(item.code));
  const shuffleItems = array.filter(item => !fixedCodes.includes(item.code));

  // Shuffle only the items that are not fixed
  for (let i = shuffleItems.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffleItems[i], shuffleItems[j]] = [shuffleItems[j], shuffleItems[i]];
  }

  // Combine fixed items and shuffled items, preserving the original positions of fixed items
  const result = [];
  array.forEach(item => {
    if (fixedCodes.includes(item.code)) {
      result.push(item); // Add fixed items in their original position
    } else {
      result.push(shuffleItems.shift()); // Add shuffled items
    }
  });

  if (randomizeOnce) {
    result._shuffled = true; // Mark as shuffled
  }

  return result;
}
export const sendBlobToBackend = async (blob) => {
  const formData = new FormData();
  formData.append("file", blob, "audio.webm"); // Append the blob to FormData with a filename

  try {
    const response = await fetch("https://fi-backend.vercel.app/add-audio", {
      method: "POST",
      body: formData,
    });

    if (response.ok) {
      const data = await response.json();
      console.log("Upload successful:", data.fileUrl);
      return data.fileUrl;
    } else {
      console.error("Upload failed:", response.statusText);
    }
  } catch (error) {
    console.error("Error uploading file:", error);
  }
};
export function formatDuration(seconds) {
  const hrs = Math.floor(seconds / 3600);
  const mins = Math.floor((seconds % 3600) / 60);
  const secs = Math.floor(seconds % 60);
  return `${hrs}:${mins}:${secs}`;
}

export  const getIndianTime = () => {
  // Get the current date and time in UTC
  const d = new Date();
  const utc = d.getTime() + (d.getTimezoneOffset() * 60000); // Calculate UTC time in milliseconds
  const nd = new Date(utc + (3600000 * 5.5)); // Add 

  const istTime = nd; // Use the Date object representing IST
  const istFormatted = istTime.toLocaleString('en-IN'); // Format the IST time
  console.log("IST now is: " + istFormatted); // Log the IST time

  return istTime; // Return the Date object for IST
};

// Function to calculate survey duration and prepare updated product test
export const calculateSurveyData = (existingData, end) => {
  const startTimeDate = existingData.startTime?.date;
  const startTimeStr = existingData.startTime?.time;

  const [day, month, year] = startTimeDate.split('/');
  const formattedDate = `${month}/${day}/${year}`; // Reformat the date as mm/dd/yyyy

  const startTimeFull = `${formattedDate} ${startTimeStr}`; // Combine date and time to create a full start time

  const startTime = new Date(startTimeFull); // Create a Date object from the start time string

  const surveyDuration = Math.floor((end.getTime() - startTime.getTime()) / 1000); // Calculate duration in seconds

  const updatedProductTest = {
    ...existingData,
    endTime: {
      date: end.toLocaleDateString('en-IN'), // Format end date for India
      time: end.toLocaleTimeString('en-IN'), // Format end time for India
    },
    Duration: formatDuration(surveyDuration), // Format duration
  };

  return updatedProductTest; // Return the updated product test object
};
